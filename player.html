<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            margin: 0;
            padding: 0;
            color: #333;
            /*font-family: "Avenir Next", Verdana, "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "游ゴシック", "Yu Gothic", "メイリオ", Meiryo, Osaka, sans-serif;*/
            font-family: "Lucida Grande","Lucida Sans Unicode","Hiragino Kaku Gothic Pro","ヒラギノ角ゴ Pro W3","メイリオ",Meiryo,"ＭＳ Ｐゴシック",Helvetica,Arial,Verdana,sans-serif;
        }

        /**
         *  動画ページ
         */
        #video-page {
            position: absolute;
            z-index: 1;
            display: block;
            width: 100%;
            height: 100%;
            color: #ccc;
            left: 0;
            top: 0;

            /* ドラッグによる選択無効化 */
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;

        }
        #skip-ad {
            position: absolute;
            top: 0;
            right: 0;
            margin: 2.5%;
            padding: 2.5%;
        }
        #playtime {
            position: absolute;
            bottom: 5%;
            right: 5%;
        }
        #playtime-label {
            display: block;
            font-size: 1.2em;
            line-height: 2.4;
            width: 2.4em;

            text-align: center;
        }
        #playtime-svg {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            margin: auto;
            width: 100%;
            height: 100%;

            z-index:1;
        }
        #start-video, #pause-video {
            display: inline-block;
            margin: 2.5%;
            padding: 2.5%;
        }

        /**
         *  エンドカードページ
         */
        #endcard-page.fadeIn {
            z-index: 10;
            display: block;

            -moz-transition: left linear .2s;
            -o-transition: left linear .2s;
            -webkit-transition: left linear .2s;
            transition: left linear .2s;
            left: 0 !important;
        }
        #endcard-page.fadeOut {
            z-index: 10;

            -moz-transition: left linear .2s;
            -o-transition: left linear .2s;
            -webkit-transition: left linear .2s;
            transition: left linear .2s;
            left: 100% !important;
        }
        #endcard-page {
            position: absolute;
            display: none;
            background: #eee;
            width: 100%;
            height: 100%;
            left: 100%;
            top: 0;
        }
        #image-frame #reload-ad {
            background: #111 no-repeat center;
            background-size: contain;
        }
        #image-frame #reload-ad:before {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            margin: auto;
            height: 1em;
            line-height: 1;


            content: 'Replay';
            display: block;
            color: #fff;
        }
        /*#image-frame div.fadeOut {
            -moz-transition: left linear .1s;
            -o-transition: left linear .1s;
            -webkit-transition: left linear .1s;
            transition: left linear .1s;
            left: 0 !important;
        }*/
        #detail-frame {
            float: left;
            width: 100%;
            height: 33%;
            /*padding: 1.8em 1.5em;*/

            position: relative;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;

            text-align: center;
            /*background: linear-gradient(#fff, #ccc);*/
            background: #fff;
        }
        #detail-panel {
            position: absolute;
            top: 12%;
            bottom: 12%;
            left: 1.5em;
            right: 1.5em;
            margin: auto;

            /*height: 100%;*/
            max-height: 130px;
            max-width: 480px;
        }
        #app-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 62px;
            height: 62px;

            border-radius: 15%;
            /*border: 1px solid #ccc;*/
            box-shadow: 1px 1px #ccc;
        }
        #app-detail {
            position: absolute;
            left: 62px;
            top: 0;
            height: 50%;

            text-align: left;
            padding: 0 0 0 1em;

            /* ellipsis 対応 */
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }
        #app-title {
            font-size: 18px;
            line-height: 1.3;
            max-height: 2.6em;
            overflow: hidden;
        }
        #app-name {
            font-weight: bold;
            letter-spacing: .05em;
        }
        #app-seller {
            font-size: .9em;
        }
        #app-rating {
            font-size: .8em;

            white-space: nowrap;
        }
        #app-rating-average {
            position: relative;
            
            color: #ff6a00;
            display: inline-block;
        }
        #app-rating-average-foreground {
            position: absolute;

            overflow: hidden;
            width: 0;

            /* 文字グラデーション */
            /*background: -webkit-gradient(linear, left top, left bottom, from(#ffb682), color-stop(0.4, #ffb682), color-stop(0.5, #ff6a00), to(#ff6a00));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;*/
        }
        #app-rating-count {
            display: inline;
            color: #777;
        }
        #transfer-button {
            position: absolute;
            top: 60%;
            left: 0;
            right: 0;
            bottom: 0;
            /*font-size: 24px;
            padding: .5em;
            display: block;
            border-radius: 1em;
            letter-spacing: .2em;
            text-indent: .2em;
            text-align: center;
            color: #fff;
            background: #709FEF;
            background: -webkit-linear-gradient(#709FEF, #4E7FD2);
            background: linear-gradient(#709FEF, #4E7FD2);*/

            max-width: 100%;
            max-height: 100%;
        }
        /*#transfer-button img {
            max-width: 100%;
            max-height: 100%;
        }*/
        #close-ad {
            position: absolute;
            top: 0;
            right: 0;
            z-index: 9999;
            /*color: #8192EA;
            border: 2px solid #888;
            border-radius: 1em;
            font-weight: bold;
            background-color: #fff;
            opacity: .75;
            font-size: 30px;
            margin: 2.5%;
            width: 1em;
            height: 1em;
            line-height: 1;
            text-align: center;*/
            margin: 1%;
            width: 8%;
        }

        @media only screen and (orientation:landscape) {
            #image-frame {
                width: 50%;
                height: 100%;
            }

            #detail-frame {
                width: 50%;
                height: 100%;
            }

            #close-ad {
                width: auto;
                height: 8%;
            }
        }
    </style>
</head>
<body>
    <div id="video-page" class="fadeIn">
        <a id="start-video">再生</a>
        <a id="pause-video">停止</a>
        <!--<a id="skip-ad">skip</a>-->
        <div id="playtime">
            <span id="playtime-label"></span>
            <svg xmlns="http://www.w3.org/2000/svg" id="playtime-svg">
                <path fill="none" stroke="#ccc" stroke-width=".5em" id="playtime-svg-path" />
            </svg>
        </div>
    </div>

    <div id="endcard-page">
        <a id="image-frame">
            <!--<img id="endcard-image" />-->
            <div id="reload-ad"></div>
        </a>
        <div id="detail-frame">
            <div id="detail-panel">
                <img id="app-icon" />
                <div id="app-detail">
                    <div id="app-title">
                        <span id="app-name"></span>
                        <span id="app-seller"></span>
                    </div>
                    <div id="app-rating">
                        <div id="app-rating-average">
                            <span id="app-rating-average-foreground">★★★★★</span>
                            ☆☆☆☆☆
                        </div>
                        <div id="app-rating-count"></div>
                    </div>
                </div>
                <img id="transfer-button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAABkCAYAAABaQU4jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA1lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDE3MUUxOUYxNTlCMTFFNTgwMzVCMjM1RTc3OTIzNUIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDE3MUUxOUUxNTlCMTFFNTgwMzVCMjM1RTc3OTIzNUIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmMyMGEzNjRkLTkwZmUtOTY0YS1hMDgxLWEwOTA3NGI0YWJiOSIgc3RSZWY6ZG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJE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" />
            </div>
        </div>
        <img id="close-ad" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTM2Q0RCRkIxMzNFMTFFNUFFRDY4MjU5Q0UwRjA5N0IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTM2Q0RCRkExMzNFMTFFNUFFRDY4MjU5Q0UwRjA5N0IiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJGQjU2RDhDMzU5NjZGQzkwNzA4RkZEQTAxOEEzRjNCRCIgc3RSZWY6ZG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77E+Y9AAANqUlEQVR42sxbe1CTVxbP40vIi2eAgKiIQKVU66zu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" />
    </div>

    <link rel="stylesheet" href="imageslider.css" />
    <script src="imageslider.js"></script>
    <script type="text/javascript">
        try {
            // console.log をネイティブ API に渡し、IDE に出力
            var consoleObj = console;
            console = {
                log: function (msg) {
                    consoleObj.log(msg);

                    nativeApi('log', { message: msg });
                }
            };

            /**
             *  フィールド変数
             */
            var _videoPageElem;
            var _endcardPageElem;
            var _playtimeLabelElem;
            var _playtimeSvgElem;
            var _playtimeSvgPathElem;
            var _media;
            var _device;
            var _slider;

            var _zone;
            var _campaign;
            var _creative;

            // スクロール・バウンド無効化
            document.addEventListener('touchmove', function () {
                //console.log('touchmove');
                event.preventDefault();
            });

            /**
             *  初期化イベント
             */
            document.addEventListener('DOMContentLoaded', function () {
                console.log('DOMContentLoaded');
                _videoPageElem = document.getElementById('video-page');
                _endcardPageElem = document.getElementById('endcard-page');
                _playtimeLabelElem = document.getElementById('playtime-label');
                _playtimeSvgElem = document.getElementById('playtime-svg');
                _playtimeSvgPathElem = document.getElementById('playtime-svg-path');
                _slider = new ImageSlider(document.getElementById('image-frame'));

                /* 広告情報の取得 */
                nativeApi("getAdInfo", null, function (result) {
                    console.log("callback getAdInfo");
                    _media = result.media;
                    _device = result.device;
                    var zoneEid = result.zoneEid;
                    var campaignId = result.campaignId;
                    var creativeId = result.creativeId;

                    // 動画広告のセットアップ
                    setup(zoneEid, campaignId, creativeId);
                });
            });

            /**
             *  動画広告のセットアップイベント
             */
            function setup(zoneEid, campaignId, creativeId) {
                console.log('setup(zoneEid:' + zoneEid + ', campaignId:' + campaignId + ', creativeId:' + creativeId + ')');

                // Zone モデルを取得
                for (var zoneIdx in _media.zones) {
                    var zone = _media.zones[zoneIdx];
                    if (zone.zone_eid == zoneEid) {
                        _zone = zone;
                        break;
                    }
                }

                // Campaign モデルを取得
                for (var campaignIdx in _zone.campaigns) {
                    var campaign = zone.campaigns[campaignIdx];
                    if (campaign.campaign_id == campaignId) {
                        _campaign = campaign;
                        break;
                    }
                }

                // Creative モデルを取得
                for (var creativeIdx in _campaign.creatives) {
                    var creative = campaign.creatives[creativeIdx];
                    if (creative.creative_id == creativeId) {
                        _creative = creative;
                        break;
                    }
                }

                var lookup = _campaign.lookup;

                // エンドカード画像を設定
                var imageUrls = lookup.screenshotUrls;
                if (imageUrls.length == 0) {
                    imageUrls = lookup.ipadScreenshotUrls;
                }
                console.log({ imageUrls: imageUrls, lookup: lookup });
                for (var i in imageUrls) {
                    // imgUrl 固定化の為のクロージャ
                    (function () {
                        var imgUrl = imageUrls[i];
                        nativeApi('getCreativeAsBase64', { creativeUrl: imgUrl }, function (result) {
                            console.log('callback getCreativeAsBase64: ' + imgUrl);
                            _slider.addImageUrl(result);
                        });
                    })();
                }

                // アプリアイコン画像を設定
                var iconUrl = lookup.artworkUrl100.slice(0, -4) + '.100x100-75.png';
                nativeApi('getCreativeAsBase64', { creativeUrl: iconUrl }, function (result) {
                    console.log('callback getCreativeAsBase64: ' + iconUrl);
                    document.getElementById('app-icon').setAttribute('src', result);
                });

                // アプリタイトルを設定
                document.getElementById('app-name').innerHTML = lookup.trackName;
                document.getElementById('app-seller').innerHTML = lookup.sellerName;

                // アプリレーティングを設定
                document.getElementById('app-rating-average-foreground').style.width = (lookup.averageUserRating * 20) + '%';
                document.getElementById('app-rating-count').innerHTML = '(' + toCommify(lookup.userRatingCount) + ')';
            }
            //function onOpenAd(zoneEid) {
            //    console.log('onOpenAd');
            //}
            //function onCloseAd(zoneEid) {
            //    console.log('onCloseAd');
            //}
            //            /**
            //             *  動画再生の開始イベント
            //             */
            //            function native_onStartedAd(zoneEid) {
            //                console.log('native_onStartedAd');
            //            }

            /**
             *  動画再生の準備完了イベント
             */
            function native_onPreparedVideo(zoneEid, campaignId, creativeId) {
                console.log('native_onPreparedVideo');

                // 動画サムネイルの取得
                nativeApi('getVideoThumbnailAsBase64', { position: 1.0 }, function (result) {
                    console.log('callback getVideoThumbnailAsBase64');

                    var reloadAdElem = document.getElementById('reload-ad');
                    reloadAdElem.style.backgroundImage = 'url("' + result + '")';
                    reloadAdElem.addEventListener('click', function () {
                        //_videoPageElem.className = '';
                        _endcardPageElem.className = 'fadeOut';

                        // 動画をリプレイ
                        nativeApi('replayVideo');
                    });
                    _slider.addImageElement(reloadAdElem);
                });
            }
            /**
             *  広告の全ての準備完了イベント
             */
            function native_onPreparedAd(zoneEid, campaignId, creativeId) {
                console.log("native_onPreparedAd");

                // 動画再生
                nativeApi('startVideo');
            }
            /**
            *  動画再生の終了イベント
            */
            function native_onFinishedAd(zoneEid, campaignId, creativeId, playtime, skipped) {
                console.log('native_onFinishedAd');
                // 動画フレームに代わり、エンドカードフレームを表示
                if (!skipped) {
                    //_videoPageElem.className = '';
                    _endcardPageElem.className = 'fadeIn';
                    _slider.setIndex(0);
                }
            }
            /**
             *  動画再生の経過時間の更新イベント
             */
            function native_onUpdateTime(elapsed, duration) {
                console.log('native_onUpdateTime');

                // 残り再生秒数を表示
                _playtimeLabelElem.innerHTML = Math.floor(duration - elapsed);

                // 円形プログレスバーの更新
                var startDegree = elapsed / duration * 360;
                _playtimeSvgElem.setAttribute('viewBox', '0 0 10 10');
                drawArc(_playtimeSvgPathElem, 5, 5, 4, startDegree, 360.0, '1px');
            }
            /**
             *  動画再生のエラーイベント？
             */
            function native_onFailed(reason, zoneEid) {
                console.log('native_onFailed');
            }

            /**
             *  広告スキップボタンのクリックイベント
             */
            var skipAdElem = document.getElementById('skip-ad');
            if (skipAdElem) {
                skipAdElem.addEventListener('click', function () {
                    console.log('skipAd');
                    nativeApi('skipAd');
                    nativeApi('closeAd');
                });
            }
            /**
             *  広告再生ボタンのクリックイベント
             */
            var startAdElem = document.getElementById('start-video');
            if (startAdElem) {
                startAdElem.addEventListener('click', function () {
                    console.log('start-video.click');
                    nativeApi('startVideo');
                });
            }
            /**
             *  広告停止ボタンのクリックイベント
             */
            var pauseAdElem = document.getElementById('pause-video');
            if (pauseAdElem) {
                pauseAdElem.addEventListener('click', function () {
                    console.log('pause-video.click');
                    nativeApi('pauseVideo');
                });
            }
            /**
             *  ストア遷移ボタンのクリックイベント
             */
            document.getElementById('transfer-button').addEventListener('click', function () {
                console.log('transfer-button.click');
                //            nativeApi('openUrl', {url: _creative.transfer_url});
                nativeApi('openClickUrl', { url: _creative.transfer_url });
            });
            //document.getElementById('image-frame').addEventListener('click', function () {
            //    console.log('image-frame.click');
            //    nativeApi('openClickUrl', { url: _creative.transfer_url });
            //});
            /**
             *  広告クローズボタンのクリックイベント
             */
            document.getElementById('close-ad').addEventListener('click', function () {
                console.log('close-ad.click');
                //location.href = "native://closeAd/?args={xxx:bbb}&callback=hogehoge&close_ad=true";
                //window.close();
                nativeApi('closeAd');
            });
        } catch (ex) {
            console.log(ex);
        }

        var callbacks = [];
        /**
         *  ネイティブ API（SDK） の呼び出し
         */
        function nativeApi(method, jsonArgs, callback) {
            if (callback) {
                if (!jsonArgs) {
                    jsonArgs = {};
                }
                jsonArgs.__callbackId = callbacks.push(callback);
            }
            var args = '';
            if (jsonArgs) {
                try {
                    args = encodeURIComponent(JSON.stringify(jsonArgs));
                } catch (ex) {
                    args = encodeURIComponent(JSON.stringify({ message: ex.message, error: ex }));
                }
            }
            //loadFrame('native://' + method + '/?args=' + args + '&callback=' + );
            loadFrame('native://' + method + '/' + args);
        }
        /**
         *  ネイティブ（SDK）からのコールバック
         */
        function native_callback(callbackId, result) {
            console.log('native_callback: ' + callbackId);
            callbacks[callbackId - 1](result);
            delete callbacks[callbackId - 1];
        }
        /* iframe を利用したネイティブ API の呼び出し */
        function loadFrame(url) {
            //        document.getElementById('iframe').setAttribute('src', url);
            var iframe = document.createElement('iframe');
            iframe.setAttribute("height", "1px");
            iframe.setAttribute("width", "1px");
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute('src', url);
            document.documentElement.appendChild(iframe);
            iframe.parentNode.removeChild(iframe);
            iframe = null;
        }

        /**
         *  整数をカンマ区切りの文字列に変換します。
         */
        function toCommify(num) {
            return String(num).replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1,');
        }

        window.onerror = function (errMsg, url, lineNumber) {
            console.log(errMsg + ", file=" + url + ":" + lineNumber);
        }

        //cxは円の中心のx座標;
        //cyは円の中心のy座標;
        //rは半径;
        //startDegreeは扇形の始まりの中心角(度数法);
        //finishDegreeは扇形の終わりの中心角(度数法);
        //strokeWidthは線の幅;
        function drawArc(path, cx, cy, r, startDegree, finishDegree, strokeWidth) {
            //円弧の始まりの座標;
            var startX = cx + r * Math.sin(startDegree / 180 * Math.PI);
            var startY = cy - r * Math.cos(startDegree / 180 * Math.PI);
            //円弧の終わり座標;
            var finishX = cx + r * Math.sin(finishDegree / 180 * Math.PI);
            var finishY = cy - r * Math.cos(finishDegree / 180 * Math.PI);
            //扇形の角度が180度を超えているか;
            var largeArcFlag = (finishDegree - startDegree <= 180) ? 0 : 1;

            //扇形の中心点へ移動するコマンド;
            var move = 'M' + startX + ' ' + startY + ' ';
            //円弧を描くコマンド;
            var arc = 'A' + r + ' ' + r + ' ' + 0 + ' ' + largeArcFlag + ' ' + 1 + ' ' + finishX + ' ' + finishY + ' ';

            // path要素を作成
            path.setAttributeNS(null, 'd', move + arc);
            path.setAttributeNS(null, 'stroke-width', strokeWidth);

            return path;
        }
    </script>
    <script type="text/javascript">
        // for debug
        if (location.search.indexOf('debug=1') >= 0) {
            //            document.addEventListener('DOMContentLoaded', function () {
            //                appendScript('player.debug.js');
            //            });
            document.write('<script src="player.debug.js"><' + '/script>');
        }

        function appendScript(src) {
            var script = document.createElement('script');
            script.setAttribute('src', src);
            document.head.appendChild(script);
        }
    </script>
</body>
</html>
