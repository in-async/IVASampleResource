<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            margin: 0;
            padding: 0;
            color: #333;
            /*font-family: "Avenir Next", Verdana, "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "游ゴシック", "Yu Gothic", "メイリオ", Meiryo, Osaka, sans-serif;*/
            font-family: "Lucida Grande","Lucida Sans Unicode","Hiragino Kaku Gothic Pro","ヒラギノ角ゴ Pro W3","メイリオ",Meiryo,"ＭＳ Ｐゴシック",Helvetica,Arial,Verdana,sans-serif;
        }

        /**
         *  動画ページ
         */
        #video-page.fadeIn {
            display: block;
        }
        #video-page {
            display: none;
            position: absolute;
            z-index: 1;
            width: 100%;
            height: 100%;
            color: #ccc;
            left: 0;
            top: 0;

            /* ドラッグによる選択無効化 */
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;

        }
        #skip-ad {
            position: absolute;
            top: 0;
            right: 0;
            margin: 2.5%;
            padding: 2.5%;
        }
        #playtime {
            position: absolute;
            bottom: 5%;
            right: 5%;
        }
        #playtime-label {
            display: block;
            font-size: 1.2em;
            line-height: 2.4;
            width: 2.4em;

            text-align: center;
        }
        #playtime-svg {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            margin: auto;
            width: 100%;
            height: 100%;

            z-index:1;
        }
        #start-video, #pause-video {
            display: inline-block;
            margin: 2.5%;
            padding: 2.5%;
        }

        /**
         *  エンドカードページ
         */
        #endcard-page.fadeIn {
            z-index: 10;
            display: block;

            -moz-transition: left linear .2s;
            -o-transition: left linear .2s;
            -webkit-transition: left linear .2s;
            transition: left linear .2s;
            left: 0 !important;
        }
        #endcard-page.fadeOut {
            z-index: 10;

            -moz-transition: left linear .2s;
            -o-transition: left linear .2s;
            -webkit-transition: left linear .2s;
            transition: left linear .2s;
            left: 100% !important;
        }
        #endcard-page {
            /*display: none;*/
            position: absolute;
            background: #eee;
            width: 100%;
            height: 100%;
            left: 100%;
            top: 0;
        }
        #image-frame #reload-ad {
            position: relative;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            width: 100%;
            padding: 0;
            margin-left: 3%;
        }
        #image-frame #reload-ad #video-thumbnail {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;

            background: no-repeat center;
            background-size: contain;
            -moz-background-origin: content-box;
            -webkit-background-origin: content-box;
            background-origin: content-box;

            opacity: .5;
        }
        #image-frame #reload-ad:after {
            position: absolute;
            /*z-index: 1;*/
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            /*height: 1em;
            line-height: 1;*/

            content: '';
            display: block;
            width: 64%;
            height: 100%;

            /*margin: auto;*/
            background: url("btn_replay.png") no-repeat center center;
            background-size: contain;
            /*color: #fff;*/
        }
        /*#image-frame div.fadeOut {
            -moz-transition: left linear .1s;
            -o-transition: left linear .1s;
            -webkit-transition: left linear .1s;
            transition: left linear .1s;
            left: 0 !important;
        }*/
        #detail-frame {
            float: left;
            width: 100%;
            height: 33%;
            /*padding: 1.8em 1.5em;*/

            position: relative;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;

            text-align: center;
            /*background: linear-gradient(#fff, #ccc);*/
            background: #fff;
        }
        #detail-panel {
            position: absolute;
            top: 12%;
            bottom: 12%;
            left: 1.5em;
            right: 1.5em;
            margin: auto;

            /*height: 100%;*/
            max-height: 130px;
            max-width: 480px;
        }
        #app-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 62px;
            height: 62px;

            border-radius: 15%;
            /*border: 1px solid #ccc;*/
            box-shadow: 1px 1px #ccc;
        }
        #app-detail {
            position: absolute;
            left: 62px;
            top: 0;
            height: 62px;

            text-align: left;
            padding: 0 0 0 1em;

            /* ellipsis 対応 */
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }
        #app-title {
            font-size: 18px;
            line-height: 1.3;
            max-height: 2.6em;
            overflow: hidden;
        }
        #app-name {
            font-weight: bold;
            letter-spacing: .05em;
        }
        #app-seller {
            font-size: .9em;
        }
        #app-rating {
            font-size: .8em;

            white-space: nowrap;
        }
        #app-rating-average {
            position: relative;
            
            color: #ff6a00;
            display: inline-block;
        }
        #app-rating-average-foreground {
            position: absolute;

            overflow: hidden;
            width: 0;

            /* 文字グラデーション */
            /*background: -webkit-gradient(linear, left top, left bottom, from(#ffb682), color-stop(0.4, #ffb682), color-stop(0.5, #ff6a00), to(#ff6a00));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;*/
        }
        #app-rating-count {
            display: inline;
            color: #777;
        }
        #transfer-button {
            position: absolute;
            top: 62px;
            left: 0;
            right: 0;
            bottom: 0;
            padding-top: 10px;
            /*font-size: 24px;
            padding: .5em;
            display: block;
            border-radius: 1em;
            letter-spacing: .2em;
            text-indent: .2em;
            text-align: center;
            color: #fff;
            background: #709FEF;
            background: -webkit-linear-gradient(#709FEF, #4E7FD2);
            background: linear-gradient(#709FEF, #4E7FD2);*/

            max-width: 100%;
            max-height: 100%;
        }
        /*#transfer-button img {
            max-width: 100%;
            max-height: 100%;
        }*/
        #close-ad {
            position: absolute;
            top: 0;
            right: 0;
            z-index: 9999;
            /*color: #8192EA;
            border: 2px solid #888;
            border-radius: 1em;
            font-weight: bold;
            background-color: #fff;
            opacity: .75;
            font-size: 30px;
            margin: 2.5%;
            width: 1em;
            height: 1em;
            line-height: 1;
            text-align: center;*/
            margin: 1%;
            width: 8%;
        }

        @media only screen and (orientation:landscape) {
            #image-frame {
                width: 50%;
                height: 100%;
            }

            #detail-frame {
                width: 50%;
                height: 100%;
            }

            #close-ad {
                width: auto;
                height: 8%;
            }
        }
    </style>
</head>
<body>
    <div id="video-page">
        <a id="start-video">play</a>
        <a id="pause-video">pause</a>
        <!--<a id="skip-ad">skip</a>-->
        <div id="playtime">
            <span id="playtime-label"></span>
            <svg xmlns="http://www.w3.org/2000/svg" id="playtime-svg">
                <path fill="none" stroke="#ccc" stroke-width=".5em" id="playtime-svg-path" />
            </svg>
        </div>
    </div>

    <div id="endcard-page">
        <div id="image-frame">
            <!--<img id="endcard-image" />-->
            <div id="reload-ad"><div id="video-thumbnail"></div></div>
        </div>
        <div id="detail-frame">
            <div id="detail-panel">
                <img id="app-icon" />
                <div id="app-detail">
                    <div id="app-title">
                        <span id="app-name"></span>
                        <span id="app-seller"></span>
                    </div>
                    <div id="app-rating">
                        <div id="app-rating-average">
                            <span id="app-rating-average-foreground">★★★★★</span>
                            ☆☆☆☆☆
                        </div>
                        <div id="app-rating-count"></div>
                    </div>
                </div>
                <img id="transfer-button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAABkCAYAAABaQU4jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA1lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDY0RkYyRDYxODk1MTFFNTgzOUY4NzU2MDVCQzc0M0YiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDY0RkYyRDUxODk1MTFFNTgzOUY4NzU2MDVCQzc0M0YiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmVhZmFmNTRlLWQzNmEtODY0Ny04ZTZhLThkNTM5ZjYzZTM2MyIgc3RSZWY6ZG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJE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" />
            </div>
        </div>
        <img id="close-ad" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTM2Q0RCRkIxMzNFMTFFNUFFRDY4MjU5Q0UwRjA5N0IiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTM2Q0RCRkExMzNFMTFFNUFFRDY4MjU5Q0UwRjA5N0IiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJGQjU2RDhDMzU5NjZGQzkwNzA4RkZEQTAxOEEzRjNCRCIgc3RSZWY6ZG9jdW1lbnRJRD0iRkI1NkQ4QzM1OTY2RkM5MDcwOEZGREEwMThBM0YzQkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77E+Y9AAANqUlEQVR42sxbe1CTVxbP40vIi2eAgKiIQKVU66zu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" />
    </div>

    <!-- Core -->
    <script type="text/javascript">
        // console.log をネイティブ API に渡し、IDE に出力
        var isLogging = location.search.indexOf('log=0') < 0;
        var consoleObj = console;
        console = {
            log: function (msg) {
                if (!isLogging) return;

                consoleObj.log(msg);
                nativeApi('log', { message: msg });
            }
        };

        var callbacks = [];
        /**
         *  ネイティブ API（SDK） の呼び出し
         */
        function nativeApi(method, jsonArgs, callback) {
            if (callback) {
                if (!jsonArgs) {
                    jsonArgs = {};
                }
                jsonArgs.__callbackId = callbacks.push(callback);
            }
            var args = '';
            if (jsonArgs) {
                try {
                    args = encodeURIComponent(JSON.stringify(jsonArgs));
                } catch (ex) {
                    method = 'log';
                    args = encodeURIComponent(JSON.stringify({ message: ex.message, error: ex }));
                }
            }
            //loadFrame('native://' + method + '/?args=' + args + '&callback=' + );
            loadFrame('native://' + method + '/' + args);
        }
        /**
         *  ネイティブ（SDK）からのコールバック
         */
        function native_callback(callbackId, result) {
            console.log('native_callback: ' + callbackId);
            callbacks[callbackId - 1](result);
            delete callbacks[callbackId - 1];
        }
        /* iframe を利用したネイティブ API の呼び出し */
        function loadFrame(url) {
            //        document.getElementById('iframe').setAttribute('src', url);
            var iframe = document.createElement('iframe');
            iframe.setAttribute("height", "1px");
            iframe.setAttribute("width", "1px");
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute('src', url);
            document.documentElement.appendChild(iframe);
            iframe.parentNode.removeChild(iframe);
            iframe = null;
        }

        /**
         *  整数をカンマ区切りの文字列に変換します。
         */
        function toCommify(num) {
            return String(num).replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1,');
        }

        window.onerror = function (errMsg, url, lineNumber) {
            console.log(errMsg + ", file=" + url + ":" + lineNumber);
        }

        //cxは円の中心のx座標;
        //cyは円の中心のy座標;
        //rは半径;
        //startDegreeは扇形の始まりの中心角(度数法);
        //finishDegreeは扇形の終わりの中心角(度数法);
        //strokeWidthは線の幅;
        function drawArc(path, cx, cy, r, startDegree, finishDegree, strokeWidth) {
            //円弧の始まりの座標;
            var startX = cx + r * Math.sin(startDegree / 180 * Math.PI);
            var startY = cy - r * Math.cos(startDegree / 180 * Math.PI);
            //円弧の終わり座標;
            var finishX = cx + r * Math.sin(finishDegree / 180 * Math.PI);
            var finishY = cy - r * Math.cos(finishDegree / 180 * Math.PI);
            //扇形の角度が180度を超えているか;
            var largeArcFlag = (finishDegree - startDegree <= 180) ? 0 : 1;

            //扇形の中心点へ移動するコマンド;
            var move = 'M' + startX + ' ' + startY + ' ';
            //円弧を描くコマンド;
            var arc = 'A' + r + ' ' + r + ' ' + 0 + ' ' + largeArcFlag + ' ' + 1 + ' ' + finishX + ' ' + finishY + ' ';

            // path要素を作成
            path.setAttributeNS(null, 'd', move + arc);
            path.setAttributeNS(null, 'stroke-width', strokeWidth);

            return path;
        }
    </script>

    <!-- Lib -->
    <!--<link rel="stylesheet" href="imageslider.css" />
    <script src="imageslider.js"></script>-->
    <style>.image-slider{float:left;width:100%;height:67%;text-align:center;overflow:auto;overflow-y:hidden;white-space:nowrap;background-color:#111}.image-slider:before{content:'';display:inline-block;width:50%}.image-slider:after{content:'';display:inline-block;width:50%}.image-slider-item{display:inline-block;height:100%;padding:0 3%;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-webkit-user-drag:none;user-select:none}.image-slider-item img{height:100%;max-height:100%;width:auto;display:block}</style>
    <script type="text/javascript">function scrollLeftMomentum(n,t,i,r){typeof r.minVelocity=="undefined"&&(r.minVelocity=.03);typeof r.maxVelocity=="undefined"&&(r.maxVelocity=10);typeof r.fps=="undefined"&&(r.fps=60);t=t<-r.maxVelocity?-r.maxVelocity:t>r.maxVelocity?r.maxVelocity:t;console.log("vx: "+t);var u=1e3/r.fps,o=i/u,s=0,f,e=setInterval(function(){var i=n.scrollLeft;++s>=o||f===i||Math.abs(t)<r.minVelocity?(clearInterval(e),r.onCompleted&&r.onCompleted.apply(window)):(f=i,n.scrollLeft=i-t*u,t*=.95)},u);return e}function scrollLeft(n,t,i){if(console.log("scrollLeft: "+t+", duration:"+i),i){var e=n.scrollLeft,r=1e3/60,u=i/r,o=(t-e)/u,s=0,f=setInterval(function(){++s<u?n.scrollLeft+=o:(clearInterval(f),n.scrollLeft=t)},r);return f}n.scrollLeft=t}var isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}},ImageSlider=function(n,t){function e(n){var r,t;for(r in i)t=i[r],t===n?t.className.indexOf("active")<0&&(t.className+=" active"):t.className=t.className.replace(" active","")}function o(n){for(var t=0,r=i.length;t<r;t++){var u=i[t],f=u.offsetLeft,e=f+u.offsetWidth;if(n>f&&n<e)return t}return-1}var f=this,r,i,u;n.className+=" image-slider";t||(t={});t.imageTagName||(t.imageTagName="div");r=-1;i=[];this.addImageUrl=function(n){function i(){this.dataset.isLoaded=1;t.removeEventListener("load",i)}var t=document.createElement("img");return t.addEventListener("load",i),n&&(t.src=n),f.addImageElement(t),t};this.addImageElement=function(t){t.className+=" image-slider-item";n.contains(t)?(n.appendChild(t),f.setIndex(r)):n.appendChild(t);i.push(t);r<0&&f.setIndex(0)};this.setIndex=function(t,f){var h,o,s;(console.log("setIndex: "+t+", animation:"+f),t>=i.length&&(t=i.length-1),h=r!=t,r=t,r<0)||(o=i[r],e(o),s=function(){var t=o.offsetLeft-n.clientWidth/2+o.offsetWidth/2;console.log({toLeft:t,"imgElem.offsetWidth":o.offsetWidth});clearInterval(u);u=scrollLeft(n,t,f?200:0);this.removeEventListener("load",s)},console.log({"imgElem.dataset.isLoaded":o.dataset.isLoaded}),o.tagName.toLowerCase()!=="img"||o.dataset.isLoaded?s():o.addEventListener("load",s))};this.refresh=function(){var t,r,n,u;console.log("refresh");for(t in i)r=i[t],n=r.getElementsByTagName("img"),n&&n.length>0&&(u=n[0].style.width,n[0].style.width="1px",n[0].style.width=u)};window.addEventListener("orientationchange",function(){console.log("orientationchange")});window.addEventListener("resize",function(){console.log("resize");setTimeout(function(){f.setIndex(r)},0)}),function(){function g(){console.log("onTouchStart");l=t=e=s=null;w=i.length;clearInterval(u);u=null;l=t=e=s=event.touches?event.touches[0].pageX:event.pageX;a=v=y=Date.now();b=n.scrollLeft;n.addEventListener(h,k);n.addEventListener(c,d)}function k(){console.log("onTouchMove");s=e;e=t;t=event.changedTouches?event.changedTouches[0].pageX:event.pageX;y=v;v=a;a=Date.now();var i=t-l;(i>0&&r===0||i<0&&r===w-1)&&(i*=.3);n.scrollLeft=b-i}function d(){console.log("onTouchEnd");var r=event.changedTouches?event.changedTouches[0].pageX:event.pageX,e=r-s,t=e/(Date.now()-y);clearInterval(u);u=scrollLeftMomentum(n,t,1e3,{minVelocity:.5,onCompleted:function(){var e=n.scrollLeft+n.clientWidth/2,u=n.clientWidth*.25,s=e+(t>0?-u:u),r=o(s);r<0&&(r=t>0?0:i.length-1);f.setIndex(r,!0)}});n.removeEventListener(h,k);n.removeEventListener(c,d)}var w,b=null,l=null,t=null,e=null,s=null,a=null,v=null,y=null,p,h,c;isMobile.any()?(p="touchstart",h="touchmove",c="touchend"):(p="mousedown",h="mousemove",c="mouseup");n.addEventListener(p,g)}()};</script>

    <!-- テンプレートロジック -->
    <script type="text/javascript">
        try {
            /**
             *  フィールド変数
             */
            var _videoPageElem;
            var _startVideoElem;
            var _pauseVideoElem;
            var _skipVideoElem;
            var _endcardPageElem;
            var _playtimeLabelElem;
            var _playtimeSvgElem;
            var _playtimeSvgPathElem;
            var _reloadAdElem;
            var _media;
            var _device;
            var _slider;

            var _zone;
            var _campaign;
            var _creative;

            // スクロール・バウンド無効化
            document.addEventListener('touchmove', function () {
                //console.log('touchmove');
                event.preventDefault();
            });

            // 少なくとも iOS 6 にてローテーション時に画像が不適切な大きさにリサイズ表示されてしまう不具合ので、その対処
            // ref: http://stackoverflow.com/questions/12102235/how-to-fit-to-screen-after-changing-viewport-width-on-orientation-change
            window.document.addEventListener('orientationchange', function () {
                var iOS = navigator.userAgent.match(/(iPad|iPhone|iPod)/g);
                if (iOS) {
                    var ios = navigator.appVersion.match(/OS (\d+)_(\d+)/);
                    var iosVer = [parseInt(ios[1]), parseInt(ios[2])];
                    if (iosVer[0] <= 6) {
                        var viewportmeta = document.querySelector('meta[name="viewport"]');
                        if (viewportmeta) {
                            //if (viewportmeta.content.match(/width=device-width/)) {
                            viewportmeta.content = viewportmeta.content.replace(/width=[^,]+/, 'width=1');
                            //}
                            viewportmeta.content = viewportmeta.content.replace(/width=[^,]+/, 'width=' + window.innerWidth);
                        }
                    }
                }
                // If you want to hide the address bar on orientation change, uncomment the next line
                // window.scrollTo(0, 0);
            });


            /**
             *  初期化イベント
             */
            document.addEventListener('DOMContentLoaded', function () {
                console.log('DOMContentLoaded');
                _videoPageElem = document.getElementById('video-page');
                _startVideoElem = document.getElementById('start-video');
                _pauseVideoElem = document.getElementById('pause-video');
                _skipVideoElem = document.getElementById('skip-ad');
                _endcardPageElem = document.getElementById('endcard-page');
                _playtimeLabelElem = document.getElementById('playtime-label');
                _playtimeSvgElem = document.getElementById('playtime-svg');
                _playtimeSvgPathElem = document.getElementById('playtime-svg-path');
                _reloadAdElem = document.getElementById('reload-ad');
                _slider = new ImageSlider(document.getElementById('image-frame'));

                /**
                 *  広告スキップボタンのクリックイベント
                 */
                if (_skipVideoElem) {
                    _skipVideoElem.addEventListener('click', function () {
                        console.log('skipVideo');
                        nativeApi('skipVideo');
                        nativeApi('closeAd');
                    });
                }
                /**
                 *  広告再生ボタンのクリックイベント
                 */
                if (_startVideoElem) {
                    _startVideoElem.addEventListener('click', function () {
                        console.log('start-video.click');
                        nativeApi('startVideo');
                    });
                }
                /**
                 *  広告停止ボタンのクリックイベント
                 */
                if (_pauseVideoElem) {
                    _pauseVideoElem.addEventListener('click', function () {
                        console.log('pause-video.click');
                        nativeApi('pauseVideo');
                    });
                }
                /**
                 *  ストア遷移ボタンのクリックイベント
                 */
                document.getElementById('transfer-button').addEventListener('click', function () {
                    console.log('transfer-button.click');
                    //            nativeApi('openUrl', {url: _creative.transfer_url});
                    nativeApi('openClickUrl', { url: _creative.ad_template_params.transfer_url });
                });
                /**
                 *  広告クローズボタンのクリックイベント
                 */
                document.getElementById('close-ad').addEventListener('click', function () {
                    console.log('close-ad.click');
                    //location.href = "native://closeAd/?args={xxx:bbb}&callback=hogehoge&close_ad=true";
                    //window.close();
                    nativeApi('closeAd');
                });
                /**
                 *  広告リプレイボタンのクリックイベント
                 */
                if (_reloadAdElem) {
                    _reloadAdElem.addEventListener('click', function () {
                        _videoPageElem.className = 'fadeIn';
                        _endcardPageElem.className = 'fadeOut';

                        // 動画をリプレイ
                        nativeApi('replayVideo');
                    });
                }

                /* 広告情報の取得 */
                nativeApi("getAdInfo", null, function (result) {
                    console.log("callback getAdInfo");
                    _media = result.media;
                    _device = result.device;
                    var zoneEid = result.zoneEid;
                    var campaignId = result.campaignId;
                    var creativeId = result.creativeId;

                    // 動画広告のセットアップ
                    setup(zoneEid, campaignId, creativeId);
                });
            });

            /**
             *  動画広告のセットアップイベント
             */
            function setup(zoneEid, campaignId, creativeId) {
                console.log('setup(zoneEid:' + zoneEid + ', campaignId:' + campaignId + ', creativeId:' + creativeId + ')');

                // Zone モデルを取得
                for (var zoneIdx in _media.zones) {
                    var zone = _media.zones[zoneIdx];
                    if (zone.zone_eid == zoneEid) {
                        _zone = zone;
                        break;
                    }
                }

                // Campaign モデルを取得
                for (var campaignIdx in _zone.campaigns) {
                    var campaign = zone.campaigns[campaignIdx];
                    if (campaign.campaign_id == campaignId) {
                        _campaign = campaign;
                        break;
                    }
                }

                // Creative モデルを取得
                for (var creativeIdx in _campaign.creatives) {
                    var creative = campaign.creatives[creativeIdx];
                    if (creative.creative_id == creativeId) {
                        _creative = creative;
                        break;
                    }
                }
            }
            //function onOpenAd(zoneEid) {
            //    console.log('onOpenAd');
            //}
            //function onCloseAd(zoneEid) {
            //    console.log('onCloseAd');
            //}
            //            /**
            //             *  動画再生の開始イベント
            //             */
            //            function native_onStartedAd(zoneEid) {
            //                console.log('native_onStartedAd');
            //            }

            /**
             *  動画再生の準備完了イベント
             */
            function native_onPreparedVideo(duration) {
                console.log('native_onPreparedVideo');

                //// 残秒数の更新
                //native_onUpdateTime(0, duration);
            }
            /**
             *  広告の全ての準備完了イベント
             */
            function native_onPreparedAd() {
                console.log("native_onPreparedAd");

                // 動画再生
                _videoPageElem.className = 'fadeIn';
                nativeApi('startVideo');

                // エンドカード関連素材をロード
                setTimeout(function () {
                    // アプリタイトルを設定
                    document.getElementById('app-name').innerHTML = _creative.ad_template_params.app_name;
                    document.getElementById('app-seller').innerHTML = _creative.ad_template_params.seller_name;

                    // アプリレーティングを設定
                    document.getElementById('app-rating-average-foreground').style.width = (_creative.ad_template_params.average_rating * 20) + '%';
                    document.getElementById('app-rating-count').innerHTML = '(' + toCommify(_creative.ad_template_params.rating_count) + ')';

                    // エンドカード画像をロード
                    var imageUrls = _creative.ad_template_params.screenshot_urls;
                    for (var i in imageUrls) {
                        // imgUrl 固定化の為のクロージャ
                        (function () {
                            // img 要素を先に追加（順番固定）
                            var imgElem = _slider.addImageUrl(null);

                            // スクリーンショット画像をロード
                            var imgUrl = imageUrls[i];
                            nativeApi('getCreativeAsBase64', { creativeUrl: imgUrl, async: true }, function (result) {
                                console.log('callback getCreativeAsBase64: ' + imgUrl);
                                imgElem.setAttribute('src', result);
                                //_slider.addImageUrl(result);
                            });
                        })();
                    }

                    // リプレイ要素をスライダーに追加
                    if (_reloadAdElem) {
                        _slider.addImageElement(_reloadAdElem);
                    }

                    // アプリアイコン画像を設定
                    var iconUrl = _creative.ad_template_params.icon_url;
                    nativeApi('getCreativeAsBase64', { creativeUrl: iconUrl, async: true }, function (result) {
                        console.log('callback getCreativeAsBase64: ' + iconUrl);
                        document.getElementById('app-icon').setAttribute('src', result);
                    });

                    if (_reloadAdElem) {
                        // 動画サムネイルを生成し、リロードボタンにロード
                        nativeApi('getVideoThumbnailAsBase64', { position: 1.0, async: true }, function (result) {
                            console.log('callback getVideoThumbnailAsBase64');

                            //_reloadAdElem.style.backgroundImage = 'url("' + result + '")';
                            document.getElementById('video-thumbnail').style.backgroundImage = 'url("' + result + '")';
                            //var imgElem = document.createElement('img');
                            //imgElem.setAttribute('src', result);
                            //_reloadAdElem.appendChild(imgElem);
                        });
                    }
                }, 0);
            }
            /**
            *  動画再生の終了イベント
            */
            function native_onFinishedAd(playtime, skipped, completedViewCount) {
                console.log('native_onFinishedAd');
                //console.log({ playtime: playtime, skipped: skipped });

                // 動画フレームに代わり、エンドカードフレームを表示
                if (!skipped) {
                    _videoPageElem.className = '';
                    _endcardPageElem.className = 'fadeIn';
                    _slider.setIndex(0);
                }

                // 再生ログを送信
                var postJson = {
                    zone_id: _zone.zone_id,
                    campaign_id: _campaign.campaign_id,
                    creative_id: _creative.creative_id,
                    view_time: playtime,
                    view_completed: !skipped,
                };
                nativeApi('sendViewLog', { postJson: postJson, async: true });
            }
            /**
             *  動画再生の経過時間の更新イベント
             */
            function native_onUpdateTime(elapsed, duration) {
                console.log('native_onUpdateTime');

                // 残り再生秒数を表示
                _playtimeLabelElem.innerHTML = Math.floor(duration - elapsed);

                // 円形プログレスバーの更新
                var startDegree = elapsed / duration * 360;
                _playtimeSvgElem.setAttribute('viewBox', '0 0 10 10');
                drawArc(_playtimeSvgPathElem, 5, 5, 4, startDegree, 360.0, '1px');
            }
            /**
             *  動画再生のエラーイベント？
             */
            function native_onFailed(reason, zoneEid) {
                console.log('native_onFailed');
            }
        } catch (ex) {
            console.log(ex);
        }
    </script>

    <script type="text/javascript">
        // for debug
        if (location.search.indexOf('debug=1') >= 0) {
            //            document.addEventListener('DOMContentLoaded', function () {
            //                appendScript('player.debug.js');
            //            });
            document.write('<script src="player.debug.js"><' + '/script>');
        }

        function appendScript(src) {
            var script = document.createElement('script');
            script.setAttribute('src', src);
            document.head.appendChild(script);
        }
    </script>
</body>
</html>
